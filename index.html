<!doctype html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <link rel="icon" type="image/svg+xml" href="/vite.svg" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="node_modules/fullpage.js/dist/fullpage.min.css">
    <title>Vite App</title>
  </head>
  <body>
    <div id="app"></div>
    <script type="module" src="/src/main.js"></script>
<!-- fullPage.js JS -->
<script src="node_modules/fullpage.js/dist/fullpage.min.js"></script>
    <script type="text/javascript">
        document.addEventListener('DOMContentLoaded', function () {
            var myFullpage = new fullpage('#fullpage', {
                licenseKey: 'gplv3-license',
                autoScrolling: true,
                navigation: true,
                navigationPosition: 'right',
                responsiveWidth: 768,
            });
        });

        // Function to handle responsive behavior
        function handleResize() {
            const isMobile = window.innerWidth <= 768;
            const sections = document.querySelectorAll('.section');

            sections.forEach(section => {
                if (isMobile) {
                    section.classList.add('fp-auto-height');
                } else {
                    section.classList.remove('fp-auto-height');
                }
            });

            // Rebuild fullPage.js to apply changes
            if (typeof fullpage_api !== 'undefined') {
                fullpage_api.reBuild();
            }
        }

        // Set up ResizeObserver
        const resizeObserver = new ResizeObserver(entries => {
            for (let entry of entries) {
                if (entry.target === document.body) {
                    handleResize(); // Direct call, no timeout
                }
            }
        });

        // Start observing the document body for size changes
        resizeObserver.observe(document.body);
    </script>
  </body>
</html>
